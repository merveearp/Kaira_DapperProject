@model CreateBlogDto
@{
    ViewData["Title"] = "CreateBlog";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="row justify-content-center">
    <div class="col-xl-8 col-lg-9">

        <div class="mb-4">
            <h3 class="fw-bold">Yeni Blog Ekle</h3>
            <p class="text-muted mb-0">
                <small class="text-primary">
                    Blog bilgilerini girerek yeni bir içerik oluşturun
                </small>
            </p>
        </div>

        <div class="card border-0 shadow-sm blog-form-card">
            <div class="card-body p-4">

                <form method="post">

                   
                    <div class="mb-4">
                        <label class="form-label fw-semibold">
                            Başlık
                        </label>
                        <input asp-for="Title"
                               class="form-control form-control-lg"
                               placeholder="Örn: Yeni Sezon Trendleri" />
                    </div>

                   
                    <div class="mb-4">
                        <label class="form-label fw-semibold">
                            Alt Başlık
                        </label>
                        <input asp-for="Subtitle"
                               class="form-control"
                               placeholder="Kısa açıklama / özet" />
                    </div>

                   
                    <div class="mb-4">
                        <label class="form-label fw-semibold">
                            İçerik
                        </label>
                        <textarea asp-for="Description"
                                  class="form-control"
                                  rows="4"
                                  placeholder="Blog içeriği">
                        </textarea>
                    </div>

                   
                    <div class="mb-3">
                        <label class="form-label fw-semibold">
                            Kapak Görseli (URL)
                        </label>
                        <input asp-for="CoverImage"
                               id="blogImageInput"
                               class="form-control"
                               placeholder="/images/blogs/cover.jpg" />
                        <small class="text-muted">
                            Örn: /images/blogs/summer.jpg
                        </small>
                    </div>


                    <div class="mb-4">
                        <div class="blog-image-preview">
                            <img id="blogImagePreview"
                                 src="/images/no-image.png"
                                 alt="Blog Image Preview" />
                        </div>
                    </div>

                    <div class="d-flex justify-content-end gap-2 pt-2">
                        <a href="/Admin/Blog/Index"
                           class="btn btn-light-danger px-4">
                            İptal
                        </a>
                        <button type="submit"
                                class="btn btn-light-primary px-4">
                            Kaydet
                        </button>
                    </div>

                </form>

            </div>
        </div>

    </div>
</div>


<script>
    const blogImageInput = document.getElementById("blogImageInput");
    const blogImagePreview = document.getElementById("blogImagePreview");

    blogImageInput.addEventListener("input", function () {
        blogImagePreview.src = this.value;
    });

    blogImagePreview.onerror = function () {
        this.src = "/images/no-image.png";
    };
</script>
