@model List<ResultBlogDto>
@{
    ViewData["Title"] = "Bloglar";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="d-flex justify-content-end mb-4">
    <a href="/Admin/Blog/CreateBlog"
       class="btn btn-sm btn-dark">
        Yeni Blog Ekle
    </a>
</div>

<div class="blog-grid">

    @foreach (var item in Model)
    {
        <div class="blog-card">

            <div class="blog-image-wrapper">
                <img src="@Url.Content(item.CoverImage)"
                     alt="@item.Title"
                     class="blog-image" />
            </div>

            <div class="blog-body">

                <h5 class="fw-bold mb-1">@item.Title</h5>
                <small class="text-muted d-block mb-2">
                    @item.Subtitle
                </small>

                <p class="blog-description">
                    @(string.IsNullOrEmpty(item.Description)
                                    ? ""
                                    : item.Description.Length > 140
                                    ? item.Description.Substring(0, 140) + "..."
                                    : item.Description)
                </p>

                <div class="blog-dates mt-2">
                    <small class="text-muted">
                        Oluşturulma:
                        @item.CreatedDate.ToString("dd.MM.yyyy")
                    </small>
                    <br />
                    <small class="text-muted">
                        Güncelleme:
                        @(item.UpdatedDate == null
                                            ? "Henüz güncellenmedi"
                                            : item.UpdatedDate.Value.ToString("dd.MM.yyyy"))
                    </small>
                </div>

                <div class="d-flex justify-content-center gap-2 mt-3">
                    <a href="/Admin/Blog/UpdateBlog/@item.BlogId"
                       class="btn btn-sm btn-light-primary">
                        Düzenle
                    </a>

                    <a href="/Admin/Blog/DeleteBlog/@item.BlogId"
                       class="btn btn-sm btn-outline-danger"
                       onclick="return confirm('Silmek istediğinize emin misiniz?')">
                        Sil
                    </a>
                </div>

            </div>

        </div>
    }

</div>
