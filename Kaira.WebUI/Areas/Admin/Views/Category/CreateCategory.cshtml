@model CreateCategoryDto
@{
    ViewData["Title"] = "CreateCategory";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="row justify-content-center">
    <div class="col-xl-7 col-lg-8">

        <div class="mb-4">
            <h3 class="fw-bold">Yeni Kategori Ekle</h3>
            <p class="text-muted mb-0">
                <small class="text-primary">
                    Kategori bilgilerini girerek yeni bir kategori oluşturun
                </small>
            </p>
        </div>

        <div class="card border-0 shadow-sm category-form-card">
            <div class="card-body p-4">

                <form method="post">

                   
                    <div class="mb-4">
                        <label class="form-label fw-semibold">
                            Kategori Adı
                        </label>
                        <input asp-for="Name"
                               class="form-control form-control-lg"
                               placeholder="Örn: Erkek Giyim" />
                    </div>

                   
                    <div class="mb-3">
                        <label class="form-label fw-semibold">
                            Görsel Yolu
                        </label>
                        <input asp-for="ImageUrl"
                               id="categoryImageInput"
                               class="form-control"
                               placeholder="/images/categories/men.jpg" />
                        <small class="text-muted">
                            Örn: /images/categories/women.jpg
                        </small>
                    </div>

                  
                    <div class="mb-4">
                        <div class="category-image-preview">
                            <img id="categoryImagePreview"
                                 src="/images/no-image.png"
                                 alt="Image Preview" />
                        </div>
                    </div>

                    <div class="d-flex justify-content-end gap-2 pt-2">
                        <a href="/Admin/Category/Index"
                           class="btn btn-light-danger px-4">
                            İptal
                        </a>
                        <button type="submit"
                                class="btn btn-light-primary px-4">
                            Kaydet
                        </button>
                    </div>

                </form>

            </div>
        </div>

    </div>
</div>


<script>
    const categoryImageInput = document.getElementById("categoryImageInput");
    const categoryImagePreview = document.getElementById("categoryImagePreview");

    categoryImageInput.addEventListener("input", function () {
        categoryImagePreview.src = this.value;
    });

    categoryImagePreview.onerror = function () {
        this.src = "/images/no-image.png";
    };
</script>
