@model List<ResultTestimonialDto>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    int count = 0;
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="fw-bold mb-0">Referanslar</h3>
    <br />
    <a href="/Admin/Testimonial/CreateTestimonial"
       class="btn btn-sm btn-dark">
        Yeni Referans Ekle
    </a>
</div>

<div class="card border-0 shadow-sm">
    <div class="card-body">

        <div class="table-responsive">
            <table class="table table-bordered table-hover align-middle">
                <thead class="table-light">
                    <tr>
                        <th style="width:60px">#</th>
                        <th>Referans</th>
                        <th>Yorum </th>
                        <th style="width:160px">İşlemler</th>
                    </tr>
                </thead>
                <tbody>

                    @if (Model == null || !Model.Any())
                    {
                        <tr>
                            <td colspan="4" class="text-center text-muted">
                                Henüz kayıtlı soru bulunmamaktadır.
                            </td>
                        </tr>
                    }
                    else
                    {
                        @foreach (var item in Model)
                        {
                            count++;
                            <tr>
                                <td>@count</td>
                                <td>
                                    <strong>@item.NameSurname</strong>
                                </td>
                                <td>
                                    @(item.Comment.Length > 120
                                                                ? item.Comment.Substring(0, 120) + "..."
                                                                : item.Comment)
                                </td>
                                <td class="text-center">
                                    <a href="/Admin/Testimonial/UpdateTestimonial/@item.TestimonialId"
                                       class="btn btn-sm btn-light-warning">
                                        Düzenle
                                    </a>
                                    <a href="/Admin/Testimonial/DeleteTestimonial/@item.TestimonialId"
                                       class="btn btn-sm btn-light-danger"
                                       onclick="return confirm('Silmek istediğinize emin misiniz?')">
                                        Sil
                                    </a>
                                </td>
                            </tr>
                        }
                    }

                </tbody>
            </table>
        </div>

    </div>
</div>
